<div *ngIf="token" class="home-container">
  <div class="header">
    <h3>Naši Stomatolozi</h3>
    <button (click)="navigateToRegisterDentist()">Dodaj novog stomatologa</button>
  </div>
  <ul>
    <li *ngFor="let stomatolog of stomatolozi">
      <strong>{{ stomatolog.ime }} {{ stomatolog.prezime }}</strong><br />
      <img [src]="getImageUrl(stomatolog.slika)" alt="Profilna slika" class="dentist-image" />
      Specijalizacija: {{ getSpecijalizacijaLabel(stomatolog.specijalizacija) }}<br />
      Adresa: {{ stomatolog.adresa }}<br />
      Email: {{ stomatolog.email }}<br />
      Telefon: {{ stomatolog.brojTelefona }}<br />
      Smena: {{getDentistShift(stomatolog.prvaSmena)}}<br />
      Broj odradjenih pregleda ove godine: {{stomatolog.brojPregleda}}

      <div *ngIf="showDayOff[stomatolog.id]" class="day-off-list">
        <h3>Neradni dani:</h3>
        <ul class="days-off-list">
          <li *ngFor="let day of daysOffMap[stomatolog.id]" class="day-off-item">{{ day }}</li>
        </ul>

        <div class="day-off-summary">
          <p>Ukupan broj neradnih dana u ovoj godini: {{ countCurrentYearDaysOff(stomatolog.id) }}</p>
        </div>
        <div class="day-off">
          <label for="datum">Pocetni datum:</label>
          <input type="date" id="datum" [(ngModel)]="selectedDateStart[stomatolog.id]" [min]="getTodayDate()" />

          <label for="datum">Krajnji datum:</label>
          <input type="date" id="datum" [(ngModel)]="selectedDateEnd[stomatolog.id]"
            [min]="selectedDateStart[stomatolog.id]" />
          <button (click)="submitDayOff(stomatolog.id)">Dodaj neradne dane</button>
          <button (click)="toggleDayOffVisibility(stomatolog.id)">Sakrij neradne dane</button>
        </div>

      </div>
      <button *ngIf="!showDayOff[stomatolog.id]" (click)="fetchAllDaysOff(stomatolog.id)">Prikaži sve neradne
        dane</button>

      <button (click)="changeShift(stomatolog.id)">Promeni smenu </button>
      <button (click)="deleteDentist(stomatolog.id)" class="delete">Obrisi </button>
    </li>
  </ul>
</div>

<div *ngIf="!token" class="home-container">
  <h2 style="justify-self: center;">Naši Stomatolozi</h2><br>
  <ul>
    <li *ngFor="let stomatolog of stomatolozi">
      <strong>{{ stomatolog.ime }} {{ stomatolog.prezime }}</strong>
      <img [src]="getImageUrl(stomatolog.slika)" alt="Profilna slika" class="dentist-image" />
      Specijalizacija: {{ getSpecijalizacijaLabel(stomatolog.specijalizacija) }}<br />
    </li>
  </ul>
</div>